Archaeologists discovered the ruins of a medieval castle on a difficult-to-access mountain plateau, which they photographed from a helicopter, obtaining its digitized map. The map is stored in the form of a two-dimensional array H, composed of N x N squares with a side equal to the unit, having as elements natural numbers between 0 and 15, which encode the shape of the walls of each unit square. If we write the natural number H[i][j] in base 2, using exactly 4 binary digits, each bit gives information about one of the walls possible to build on each side of the unit square at position (i,j), like this: